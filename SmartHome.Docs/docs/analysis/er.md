# ER диаграмма для Приложения smart-home

Этот документ описывает сущности и их атрибуты для Приложения Умного Дома, которое собирает телеметрические данные из домов и управляет устройствами пользователей, такими как температура, освещение и другие модули умного дома.

## ER диаграмма

![Компоненты](puml/png/er_diagram.png)

## Сущности

1. **Пользователь (User)**
    - **Id**: Идентификатор пользователя (int)
    - **Name**: Имя пользователя (string)
    - **Email**: Электронная почта пользователя (string)
    - **CreatedAt**: Дата и время создания записи (DateTime)

2. **Устройство (Device)**
    - **Id**: Идентификатор устройства (int)
    - **SerialNo**: Серийный номер устройства (Guid)
    - **Status**: Статус устройства (bool)
    - **HouseId**: Идентификатор дома, к которому привязано устройство (int?)
    - **DeviceTypeId**: Идентификатор типа устройства (int?)
    - **CreatedAt**: Дата и время создания записи (DateTime)

3. **Тип устройства (DeviceType)**
    - **Id**: Идентификатор типа устройства (int)
    - **Name**: Название типа устройства (string)

4. **Дом (House)**
    - **Id**: Идентификатор дома (int)
    - **Name**: Название дома (string)
    - **Address**: Адрес дома (string?)
    - **City**: Город (string?)
    - **State**: Штат (string?)
    - **ZipCode**: Почтовый индекс (string?)
    - **Country**: Страна (string?)
    - **TimeStamp**: Дата и время создания записи (DateTime)

5. **Телеметрия (TelemetryData)**
    - **Id**: Идентификатор телеметрии (int)
    - **DeviceId**: Идентификатор устройства, к которому относится телеметрия (int)
    - **Data**: Данные телеметрии (string)
    - **CreatedAt**: Дата и время создания записи (DateTime)

6. **Модуль (Module)**
    - **Id**: Идентификатор модуля (int)
    - **Name**: Название модуля (string)
    - **Description**: Описание модуля (string?)
    - **CreatedAt**: Дата и время создания записи (DateTime)

7. **Система отопления (HeatingSystem)**
    - **Id**: Идентификатор системы отопления (Long)
    - **IsOn**: Включена ли система (boolean)
    - **TargetTemperature**: Целевая температура (double)
    - **CurrentTemperature**: Текущая температура (double)

8. **Датчик температуры (TemperatureSensor)**
    - **Id**: Идентификатор датчика температуры (Long)
    - **CurrentTemperature**: Текущая температура (double)
    - **LastUpdated**: Дата и время последнего обновления (LocalDateTime)

## Связи между сущностями

- **Пользователь** (User) - **Дом** (House): Один пользователь может владеть несколькими домами.
- **Дом** (House) - **Устройство** (Device): Один дом может содержать несколько устройств.
- **Тип устройства** (DeviceType) - **Устройство** (Device): Один тип устройства может быть связан с несколькими устройствами.
- **Устройство** (Device) - **Телеметрия** (TelemetryData): Одно устройство может генерировать множество записей телеметрии.
- **Модуль** (Module) - **Устройство** (Device): Один модуль может быть связан с несколькими устройствами.
